<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Picom UI Library - Build Beautiful UIs with Ease</title>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üé®</text></svg>">
    
    <!-- jQuery UI for drag and drop -->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/ui-lightness/jquery-ui.css">
    
    <!-- Picom UI Library Styles (Bundled) -->
    <link rel="stylesheet" href="dist/picom.css">
    
    <!-- Global Styles -->
    <style>
        
    </style>
</head>
<body>
    <!-- Loading indicator -->
    <div id="loading" class="loading">
        <div class="spinner"></div>
        Loading Picom UI Library...
    </div>
    
    <!-- Website content will be built here -->
    <div id="website-container"></div>
    
    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2024 Picom UI Library. Built with ‚ù§Ô∏è for developers.</p>
        <p>
            <a href="https://github.com/yourusername/picom-ui-library">GitHub</a> | 
            <a href="#docs">Documentation</a> | 
            <a href="website/demos/form-builder-demo.html">Form Builder</a> |
            <a href="website/demos/layout-demo.html">Layout Demo</a>
        </p>
    </footer>

    <!-- jQuery and jQuery UI -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>

    <!-- Picom UI Library (Bundled) -->
    <script src="dist/picom.js"></script>

    <!-- Website initialization -->
    <script>
        $(document).ready(function() {
            console.log('Initializing Picom UI Library Website...');
            
            // Check if all required components are loaded
            if (typeof WebsiteBuilder === 'undefined') {
                console.error('WebsiteBuilder not found!');
                $('#loading').html('<p style="color: red;">WebsiteBuilder not loaded. Check console for errors.</p>');
                return;
            }
            
            if (typeof LayoutComponent === 'undefined') {
                console.error('LayoutComponent not found!');
                $('#loading').html('<p style="color: red;">LayoutComponent not loaded. Check console for errors.</p>');
                return;
            }
            
            console.log('All components loaded successfully');
            
            // Initialize website builder
            const websiteBuilder = new WebsiteBuilder('website-container');
            
            // Load website from JSON
            websiteBuilder.loadFromFile('website/pages/home.json', function(error, data) {
                if (error) {
                    console.error('Failed to load website:', error);
                    $('#loading').html('<p style="color: red;">Failed to load website. Please check the console for errors.</p>');
                    return;
                }
                
                // Hide loading indicator
                $('#loading').fadeOut(500, function() {
                    $(this).remove();
                });
                
                console.log('Website loaded successfully:', data);
                
                // Add smooth scrolling for anchor links
                $('a[href^="#"]').on('click', function(e) {
                    e.preventDefault();
                    const target = $(this.getAttribute('href'));
                    if (target.length) {
                        $('html, body').animate({
                            scrollTop: target.offset().top - 70
                        }, 800);
                    }
                });
            });
        });
    </script>
</body>
</html>
